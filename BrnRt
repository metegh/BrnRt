-- // === НАСТРОЙКИ === \\ --
local TELEPORT_CFRAME = CFrame.new(472.692626953125, -6.60106897354126 + 6, -99.03443145751953) -- твоя точка (на 6 выше)
local FLY_SPEED = 5 -- скорость полёта
local KEY_TOGGLE_FLY = Enum.KeyCode.F -- включить/выключить флай
local KEY_TELEPORT = Enum.KeyCode.T -- моментальный телепорт

-- // === ИНИЦИАЛИЗАЦИЯ === \\ --
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")
local humanoid = character:WaitForChild("Humanoid")

-- // === NETLESS BYPASS === \\ --
for _, v in ipairs(character:GetDescendants()) do
    if v:IsA("BasePart") then
        v.CanCollide = false
        v.AssemblyLinearVelocity = Vector3.new(0, -25, 0)
        v.CustomPhysicalProperties = PhysicalProperties.new(0, 0, 0, 0, 0)
        task.spawn(function()
            while task.wait() do
                v.AssemblyLinearVelocity = Vector3.new(0, -25, 0)
            end
        end)
    end
end

-- // === ПЕРЕМЕННЫЕ === \\ --
local flying = false
local bodyGyro, bodyVel

-- // === ФУНКЦИИ === \\ --
local function startFly()
    if flying then return end
    flying = true

    humanoid.PlatformStand = true

    bodyGyro = Instance.new("BodyGyro")
    bodyGyro.P = 9e4
    bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
    bodyGyro.CFrame = hrp.CFrame
    bodyGyro.Parent = hrp

    bodyVel = Instance.new("BodyVelocity")
    bodyVel.Velocity = Vector3.new(0,0,0)
    bodyVel.MaxForce = Vector3.new(9e9, 9e9, 9e9)
    bodyVel.Parent = hrp

    while flying do
        bodyGyro.CFrame = workspace.CurrentCamera.CFrame
        local moveDir = Vector3.new(0,0,0)

        if UIS:IsKeyDown(Enum.KeyCode.W) then
            moveDir = moveDir + workspace.CurrentCamera.CFrame.LookVector
        end
        if UIS:IsKeyDown(Enum.KeyCode.S) then
            moveDir = moveDir - workspace.CurrentCamera.CFrame.LookVector
        end
        if UIS:IsKeyDown(Enum.KeyCode.A) then
            moveDir = moveDir - workspace.CurrentCamera.CFrame.RightVector
        end
        if UIS:IsKeyDown(Enum.KeyCode.D) then
            moveDir = moveDir + workspace.CurrentCamera.CFrame.RightVector
        end
        if UIS:IsKeyDown(Enum.KeyCode.Space) then
            moveDir = moveDir + Vector3.new(0,1,0)
        end
        if UIS:IsKeyDown(Enum.KeyCode.LeftControl) then
            moveDir = moveDir - Vector3.new(0,1,0)
        end

        bodyVel.Velocity = moveDir * FLY_SPEED
        task.wait()
    end
end

local function stopFly()
    flying = false
    humanoid.PlatformStand = false
    if bodyGyro then bodyGyro:Destroy() end
    if bodyVel then bodyVel:Destroy() end
end

local function teleportToCFrame(cframe)
    stopFly()
    task.wait(0.1)
    hrp.CFrame = cframe
    hrp.AssemblyLinearVelocity = Vector3.zero
end

-- // === КОНТРОЛ === \\ --
UIS.InputBegan:Connect(function(input, gp)
    if gp then return end
    if input.KeyCode == KEY_TOGGLE_FLY then
        if flying then
            stopFly()
        else
            startFly()
        end
    elseif input.KeyCode == KEY_TELEPORT then
        teleportToCFrame(TELEPORT_CFRAME)
    end
end)

print("[✅] Флай и телепорт загружены! Нажми F для полёта, T для телепорта.")
